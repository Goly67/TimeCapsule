Try AI directly in your favorite apps … Use Gemini to generate drafts and refine content, plus get Gemini Advanced with access to Google’s next-gen AI for ₱1,100.00 ₱550.00 for 2 months
Get offer

Dismiss banner
Welcome to Drive
Welcome to Drive

View details


Search
Clear search
No filters applied
Type
People
Modified
Location

1 selected
TimeCapsule
In My Drive

More actions
Drepsons Architectures
In My Drive

More actions
KPWKP Trailer
In My Drive

More actions
ICC LIVE AT DUTERTE
In My Drive

More actions
04PT1
In My Drive

More actions

Suggested files


Name
Reason suggested
Owner
Location
index.html
You edited • 10:45 AM

me

TimeCapsule
TimeCapsule

Share (Ctrl+Alt+A)

Download

Rename (Ctrl+Alt+E)

Add to starred (Ctrl+Alt+S)

More actions (Alt+A)
tutorial.html
You edited • 10:44 AM

me

TimeCapsule
TimeCapsule

More actions (Alt+A)
signup.html
You edited • 10:44 AM

me

TimeCapsule
TimeCapsule

More actions (Alt+A)
Survey on the Benefits and Challenges of QR Code Attendance Systems in Libraries
You opened • Mar 27, 2025

me

My Drive
My Drive

More actions (Alt+A)
login.html
You edited • 10:44 AM

me

TimeCapsule
TimeCapsule

More actions (Alt+A)

LAFVIN_4WD_Robot_Arm_Smart_Car_V2_1.apk
You opened • Mar 29, 2025

me

My Drive
My Drive

More actions (Alt+A)
House 1.png
You uploaded • Mar 28, 2025

me

Emma
Emma

More actions (Alt+A)
Anino ng Kapangyarihan - With intro creds.mp4
You modified • Mar 12, 2025

me

KPWKP Trailer
KPWKP Trailer

More actions (Alt+A)
House 2.png
You uploaded • Mar 28, 2025

me

Emma
Emma

More actions (Alt+A)
why! remix thai.wav
You opened • Mar 19, 2025

me

My Drive
My Drive

More actions (Alt+A)

View more

My Drive
My Drive

TimeCapsule
TimeCapsule


index.html
index.html
Get notifications on your desktop for shared files and important events
Turn on


<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Time Capsule - Preserve Memories for the Future</title>

  <!-- Google Fonts - Poppins + Roboto -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@500;600;700&family=Roboto:wght@400;500&display=swap" rel="stylesheet">

  <style>
    /* Reset and Base Styles */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html, body {
      height: 100%;
    }

    body {
      background-color: #f9fafb;
      color: #1f2937;
      min-height: 100vh;
      position: relative;
      overflow-x: hidden;
      font-family: 'Roboto', sans-serif;
      line-height: 1.6;
      display: flex;
      flex-direction: column;
    }

    :root {
      --forest-green-50: #f2f7f4;
      --forest-green-100: #e0ede5;
      --forest-green-200: #c1dccf;
      --forest-green-300: #9ac3b0;
      --forest-green-400: #6da68d;
      --forest-green-500: #4f8a71;
      --forest-green-600: #3d7059;
      --forest-green-700: #325a49;
      --forest-green-800: #2b4a3d;
      --forest-green-900: #253d33;
      --forest-green-950: #132119;
      
      --gold-50: #fdf8e9;
      --gold-100: #f9edc5;
      --gold-200: #f3dc8d;
      --gold-300: #ecc654;
      --gold-400: #e6b32d;
      --gold-500: #d99b17;
      --gold-600: #bd7b10;
      --gold-700: #9c5a10;
      --gold-800: #824714;
      --gold-900: #6f3a15;
      
      --gray-50: #f9fafb;
      --gray-100: #f3f4f6;
      --gray-200: #e5e7eb;
      --gray-300: #d1d5db;
      --gray-400: #9ca3af;
      --gray-500: #6b7280;
      --gray-600: #4b5563;
      --gray-700: #374151;
      --gray-800: #1f2937;
      --gray-900: #111827;
      
      --red-500: #ef4444;
      --red-600: #dc2626;
      --red-700: #b91c1c;
      
      /* Font family variables */
      --font-heading: 'Poppins', sans-serif;
      --font-body: 'Roboto', sans-serif;
    }

    /* Typography with new fonts */
    h1, h2, h3, h4, h5, h6, .logo {
      font-family: 'Poppins', sans-serif;
      letter-spacing: -0.02em;
    }

    p, input, textarea, button {
      font-family: 'Roboto', sans-serif;
      letter-spacing: 0.01em;
    }

    /* Canvas for Blob Background */
    #blob-canvas {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
    }

    /* Container */
    .container {
      width: 100%;
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
      position: relative;
      z-index: 1;
      flex: 1 0 auto;
    }

    /* Typography */
    h1 {
      font-size: 2.5rem;
      font-weight: 700;
      color: #2b4a3d;
      margin-bottom: 1rem;
      line-height: 1.2;
    }

    h2 {
      font-size: 1.75rem;
      font-weight: 600;
      color: #325a49;
      margin-bottom: 0.75rem;
      line-height: 1.3;
    }

    h3 {
      font-size: 1.25rem;
      font-weight: 600;
      color: #325a49;
      margin-bottom: 0.5rem;
      line-height: 1.4;
    }

    p {
      line-height: 1.6;
      margin-bottom: 1rem;
    }

    /* Buttons */
    .btn {
      display: inline-block;
      padding: 0.75rem 1.5rem;
      border-radius: 9999px;
      font-weight: 500;
      text-align: center;
      cursor: pointer;
      transition: all 0.2s ease;
      text-decoration: none;
      border: none;
      font-size: 1rem;
      font-family: 'Poppins', sans-serif;
      letter-spacing: 0.02em;
    }

    .btn-primary {
      background-color: #3d7059;
      color: white;
    }

    .btn-primary:hover {
      background-color: #325a49;
    }

    .btn-outline {
      background-color: transparent;
      border: 1px solid #3d7059;
      color: #3d7059;
    }

    .btn-outline:hover {
      background-color: #f2f7f4;
    }

    .btn-secondary {
      background-color: #e5e7eb;
      color: #4b5563;
    }

    .btn-secondary:hover {
      background-color: #d1d5db;
    }

    .btn-danger {
      background-color: #ef4444;
      color: white;
    }

    .btn-danger:hover {
      background-color: #dc2626;
    }

    .btn-sm {
      padding: 0.5rem 1rem;
      font-size: 0.875rem;
    }

    .btn-block {
      display: block;
      width: 100%;
    }

    .btn-icon {
      display: inline-flex;
      align-items: center;
      justify-content: center;
    }

    .btn-icon svg {
      margin-right: 0.5rem;
    }

    .btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    /* Forms */
    .form-group {
      margin-bottom: 1.5rem;
    }

    label {
      display: block;
      margin-bottom: 0.5rem;
      font-weight: 500;
      color: #374151;
      font-family: var(--font-heading);
    }

    input, textarea, select {
      width: 100%;
      padding: 0.75rem;
      border: 1px solid var(--gray-300);
      border-radius: 0.375rem;
      font-size: 1rem;
      transition: border-color 0.2s ease;
      font-family: var(--font-body);
    }

    input:focus, textarea:focus, select:focus {
      outline: none;
      border-color: var(--forest-green-500);
      box-shadow: 0 0 0 3px rgba(79, 138, 113, 0.1);
    }

    textarea {
      min-height: 150px;
      resize: vertical;
    }

    /* Cards */
    .card {
      background-color: rgba(255, 255, 255, 0.9);
      border-radius: 0.75rem;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
      padding: 1.5rem;
      margin-bottom: 1.5rem;
      backdrop-filter: blur(10px);
      border: 1px solid var(--forest-green-100);
    }

    /* Layout Utilities */
    .flex {
      display: flex;
    }

    .flex-col {
      flex-direction: column;
    }

    .items-center {
      align-items: center;
    }

    .justify-center {
      justify-content: center;
    }

    .justify-between {
      justify-content: space-between;
    }

    .gap-2 {
      gap: 0.5rem;
    }

    .gap-4 {
      gap: 1rem;
    }

    .gap-6 {
      gap: 1.5rem;
    }

    .mt-2 {
      margin-top: 0.5rem;
    }

    .mt-4 {
      margin-top: 1rem;
    }

    .mt-6 {
      margin-top: 1.5rem;
    }

    .mt-8 {
      margin-top: 2rem;
    }

    .mb-2 {
      margin-bottom: 0.5rem;
    }

    .mb-4 {
      margin-bottom: 1rem;
    }

    .mb-6 {
      margin-bottom: 1.5rem;
    }

    .mb-8 {
      margin-bottom: 2rem;
    }

    .p-2 {
      padding: 0.5rem;
    }

    .p-4 {
      padding: 1rem;
    }

    .py-2 {
      padding-top: 0.5rem;
      padding-bottom: 0.5rem;
    }

    .py-4 {
      padding-top: 1rem;
      padding-bottom: 1rem;
    }

    .px-2 {
      padding-left: 0.5rem;
      padding-right: 0.5rem;
    }

    .px-4 {
      padding-left: 1rem;
      padding-right: 1rem;
    }

    .text-center {
      text-align: center;
    }

    .text-sm {
      font-size: 0.875rem;
    }

    .text-lg {
      font-size: 1.125rem;
    }

    .text-xl {
      font-size: 1.25rem;
    }

    .text-2xl {
      font-size: 1.5rem;
    }

    .font-bold {
      font-weight: 700;
    }

    .font-semibold {
      font-weight: 600;
    }

    .text-gray-500 {
      color: var(--gray-500);
    }

    .text-gray-600 {
      color: var(--gray-600);
    }

    .text-gray-700 {
      color: var(--gray-700);
    }

    .text-forest-green-600 {
      color: var(--forest-green-600);
    }

    .text-forest-green-700 {
      color: var(--forest-green-700);
    }

    .text-forest-green-800 {
      color: var(--forest-green-800);
    }

    .bg-white {
      background-color: white;
    }

    .bg-forest-green-50 {
      background-color: var(--forest-green-50);
    }

    .bg-forest-green-100 {
      background-color: var(--forest-green-100);
    }

    .bg-forest-green-600 {
      background-color: var(--forest-green-600);
    }

    .border-forest-green-100 {
      border-color: var(--forest-green-100);
    }

    .rounded-full {
      border-radius: 9999px;
    }

    .rounded-lg {
      border-radius: 0.5rem;
    }

    .shadow-sm {
      box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    }

    .shadow-md {
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    }

    .opacity-50 {
      opacity: 0.5;
    }

    .hidden {
      display: none;
    }

    .grid {
      display: grid;
    }

    .grid-cols-1 {
      grid-template-columns: repeat(1, minmax(0, 1fr));
    }

    /* Header */
    header {
      padding: 1.5rem 0;
    }

    .logo {
      font-size: 1.5rem;
      font-weight: 700;
      color: #325a49;
      text-decoration: none;
    }

    /* User Profile */
    .user-profile {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      cursor: pointer;
      position: relative;
    }

    .profile-picture {
      width: 2.5rem;
      height: 2.5rem;
      border-radius: 50%;
      background-color: #e0ede5;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }

    .profile-picture img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .profile-initial {
      font-size: 1rem;
      font-weight: 600;
      color: #325a49;
    }

    .profile-name {
      font-weight: 500;
      color: #374151;
    }

    .profile-dropdown {
      position: absolute;
      top: 100%;
      right: 0;
      margin-top: 0.5rem;
      background-color: white;
      border-radius: 0.5rem;
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
      width: 200px;
      z-index: 10;
      overflow: hidden;
      display: none;
    }

    .profile-dropdown.active {
      display: block;
    }

    .dropdown-item {
      padding: 0.75rem 1rem;
      display: flex;
      align-items: center;
      gap: 0.75rem;
      color: #374151;
      text-decoration: none;
      transition: background-color 0.2s ease;
    }

    .dropdown-item:hover {
      background-color: #f3f4f6;
    }

    .dropdown-divider {
      height: 1px;
      background-color: #e5e7eb;
      margin: 0.25rem 0;
    }

    /* Hero Section */
    .hero {
      padding: 4rem 0;
      text-align: center;
    }

    .hero h1 {
      font-size: 3rem;
      margin-bottom: 1rem;
    }

    .hero p {
      font-size: 1.25rem;
      color: #3d7059;
      max-width: 600px;
      margin: 0 auto 2rem;
    }

    /* Features */
    .features {
      padding: 4rem 0;
    }

    .feature-grid {
      display: grid;
      grid-template-columns: repeat(1, 1fr);
      gap: 2rem;
    }

    .feature-card {
      background-color: rgba(255, 255, 255, 0.8);
      border-radius: 0.75rem;
      padding: 1.5rem;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
      border: 1px solid #e0ede5;
      backdrop-filter: blur(10px);
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

    .feature-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
    }

    .feature-icon {
      width: 3rem;
      height: 3rem;
      background-color: #e0ede5;
      border-radius: 9999px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 1rem;
    }

    .feature-icon svg {
      width: 1.5rem;
      height: 1.5rem;
      color: #3d7059;
    }

    /* Tabs */
    .tabs {
      display: flex;
      border-bottom: 1px solid #e5e7eb;
      margin-bottom: 1.5rem;
    }

    .tab {
      padding: 0.75rem 1.5rem;
      cursor: pointer;
      border-bottom: 2px solid transparent;
      font-weight: 500;
      font-family: 'Poppins', sans-serif;
    }

    .tab.active {
      border-bottom-color: #3d7059;
      color: #325a49;
    }

    .tab-content {
      display: none;
    }

    .tab-content.active {
      display: block;
    }

    /* File Upload */
    .file-upload {
      border: 2px dashed #c1dccf;
      border-radius: 0.5rem;
      padding: 2rem;
      text-align: center;
      cursor: pointer;
    }

    .file-upload:hover {
      background-color: #f2f7f4;
    }

    .file-preview {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 1rem;
      margin-top: 1.5rem;
    }

    .file-preview-item {
      position: relative;
      aspect-ratio: 1;
      border-radius: 0.375rem;
      overflow: hidden;
    }

    .file-preview-item img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    /* Video Recording */
    .video-container {
      position: relative;
      width: 100%;
      aspect-ratio: 16/9;
      background-color: black;
      border-radius: 0.5rem;
      overflow: hidden;
      margin-bottom: 1rem;
    }

    .video-container video {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .recording-indicator {
      position: absolute;
      bottom: 1rem;
      left: 50%;
      transform: translateX(-50%);
      width: 1rem;
      height: 1rem;
      background-color: #ef4444;
      border-radius: 50%;
      animation: pulse 1.5s infinite;
    }

    @keyframes pulse {
      0% {
        transform: translateX(-50%) scale(1);
        opacity: 1;
      }
      50% {
        transform: translateX(-50%) scale(1.2);
        opacity: 0.7;
      }
      100% {
        transform: translateX(-50%) scale(1);
        opacity: 1;
      }
    }

    /* Capsule Cards */
    .capsule-card {
      background-color: rgba(255, 255, 255, 0.9);
      border-radius: 0.75rem;
      padding: 1.5rem;
      margin-bottom: 1rem;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
      border: 1px solid #e0ede5;
      transition: box-shadow 0.2s ease;
      backdrop-filter: blur(10px);
    }

    .capsule-card:hover {
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    }

    .capsule-status {
      display: inline-block;
      padding: 0.25rem 0.75rem;
      border-radius: 9999px;
      font-size: 0.75rem;
      font-weight: 500;
      font-family: 'Poppins', sans-serif;
    }

    .status-sealed {
      background-color: #f3f4f6;
      color: #4b5563;
      border: 1px solid #e5e7eb;
    }

    .status-delivered {
      background-color: #e0ede5;
      color: #2b4a3d;
    }

    .capsule-content-type {
      display: inline-flex;
      align-items: center;
      padding: 0.25rem 0.75rem;
      border-radius: 9999px;
      font-size: 0.75rem;
      background-color: #f2f7f4;
      color: #325a49;
      margin-right: 0.5rem;
      margin-bottom: 0.5rem;
    }

    .capsule-content-type svg {
      width: 0.875rem;
      height: 0.875rem;
      margin-right: 0.25rem;
    }

    /* Toast Notifications */
    .toast-container {
      position: fixed;
      top: 1rem;
      right: 1rem;
      z-index: 50;
    }

    .toast {
      background-color: white;
      border-radius: 0.375rem;
      padding: 1rem;
      margin-bottom: 0.75rem;
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
      max-width: 350px;
      display: flex;
      align-items: center;
      animation: slideIn 0.3s ease forwards;
    }

    .toast.success {
      border-left: 4px solid #10b981;
    }

    .toast.error {
      border-left: 4px solid #ef4444;
    }

    .toast.info {
      border-left: 4px solid #3b82f6;
    }

    .toast-content {
      flex: 1;
    }

    .toast-title {
      font-weight: 600;
      margin-bottom: 0.25rem;
      font-family: 'Poppins', sans-serif;
    }

    .toast-message {
      font-size: 0.875rem;
      color: #4b5563;
    }

    .toast-close {
      background: none;
      border: none;
      cursor: pointer;
      color: #6b7280;
      padding: 0.25rem;
    }

    @keyframes slideIn {
      from {
        transform: translateX(100%);
        opacity: 0;
      }
      to {
        transform: translateX(0);
        opacity: 1;
      }
    }

    @keyframes slideOut {
      from {
        transform: translateX(0);
        opacity: 1;
      }
      to {
        transform: translateX(100%);
        opacity: 0;
      }
    }

    /* Back Button */
    .back-button {
      display: inline-flex;
      align-items: center;
      color: #3d7059;
      text-decoration: none;
      margin-bottom: 1.5rem;
      font-family: 'Poppins', sans-serif;
    }

    .back-button:hover {
      color: #325a49;
    }

    .back-button svg {
      width: 1.25rem;
      height: 1.25rem;
      margin-right: 0.5rem;
    }

    /* Share Section */
    .share-link-container {
      display: flex;
      gap: 0.5rem;
      margin-bottom: 1.5rem;
    }

    .share-link-input {
      flex: 1;
    }

    .social-share {
      display: flex;
      flex-wrap: wrap;
      gap: 0.75rem;
      margin-top: 1rem;
    }

    .social-button {
      padding: 0.5rem 1rem;
      border-radius: 0.375rem;
      color: white;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      font-size: 0.875rem;
      cursor: pointer;
      font-family: 'Poppins', sans-serif;
    }

    .social-button.facebook {
      background-color: #1877f2;
    }

    .social-button.twitter {
      background-color: #1da1f2;
    }

    .social-button.whatsapp {
      background-color: #25d366;
    }

    .social-button svg {
      width: 1rem;
      height: 1rem;
      margin-right: 0.5rem;
    }

    /* Badge */
    .badge {
      display: inline-block;
      padding: 0.25rem 0.75rem;
      border-radius: 9999px;
      font-size: 0.75rem;
      font-weight: 500;
      font-family: 'Poppins', sans-serif;
    }

    .badge-outline {
      border: 1px solid #c1dccf;
      color: #325a49;
    }

    .badge-filled {
      background-color: #3d7059;
      color: white;
    }

    /* Footer */
    .footer {
      background-color: rgba(255, 255, 255, 0.8);
      backdrop-filter: blur(10px);
      padding: 1.5rem 0;
      border-top: 1px solid #e0ede5;
      margin-top: auto;
      flex-shrink: 0;
    }

    .footer-links {
      display: flex;
      flex-wrap: wrap;
      gap: 1.5rem;
      justify-content: center;
      margin-bottom: 1rem;
    }

    .footer-link {
      color: #325a49;
      text-decoration: none;
      font-size: 0.875rem;
      font-family: 'Poppins', sans-serif;
      transition: color 0.2s ease;
    }

    .footer-link:hover {
      color: #253d33;
      text-decoration: underline;
    }

    .footer-copyright {
      text-align: center;
      font-size: 0.875rem;
      color: #6b7280;
    }

    /* Security Features Section */
    .security-feature {
      display: flex;
      gap: 1rem;
      margin-bottom: 1.5rem;
      padding: 1.5rem;
      background-color: white;
      border-radius: 0.75rem;
      border: 1px solid var(--forest-green-100);
    }

    .security-icon {
      flex-shrink: 0;
      width: 3rem;
      height: 3rem;
      background-color: var(--forest-green-100);
      border-radius: 9999px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .security-icon svg {
      width: 1.5rem;
      height: 1.5rem;
      color: var(--forest-green-600);
    }

    .security-content {
      flex: 1;
    }

    .security-content h3 {
      margin-bottom: 0.5rem;
      color: var(--forest-green-800);
    }

    /* Terms and Conditions */
    .terms-section {
      margin-bottom: 2rem;
    }

    .terms-section h2 {
      margin-top: 2rem;
      margin-bottom: 1rem;
    }

    .terms-section h3 {
      margin-top: 1.5rem;
      margin-bottom: 0.75rem;
    }

    .terms-section ul, .terms-section ol {
      margin-left: 1.5rem;
      margin-bottom: 1.5rem;
    }

    .terms-section li {
      margin-bottom: 0.5rem;
    }

    /* Contact Form */
    .contact-form {
      background-color: white;
      border-radius: 0.75rem;
      padding: 2rem;
      border: 1px solid var(--forest-green-100);
      margin-bottom: 2rem;
    }

    /* Image Gallery */
    .image-gallery {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 1rem;
    }

    .gallery-item {
      position: relative;
      aspect-ratio: 1;
      border-radius: 0.375rem;
      overflow: hidden;
      background-color: #f3f4f6;
    }

    .gallery-item img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.3s ease;
    }

    .gallery-item img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.3s ease;
    }

    .gallery-item:hover img {
      transform: scale(1.05);
    }

    .content-header {
      display: flex;
      align-items: center;
      margin-bottom: 1rem;
    }

    .content-header svg {
      width: 1.5rem;
      height: 1.5rem;
      margin-right: 0.5rem;
      color: #3d7059;
    }

    /* Page wrapper */
    .page-wrapper {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    .page-content {
      flex: 1;
    }

    /* Modal */
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: rgba(0, 0, 0, 0.5);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 100;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.3s ease, visibility 0.3s ease;
    }

    .modal-overlay.active {
      opacity: 1;
      visibility: visible;
    }

    .modal {
      background-color: white;
      border-radius: 0.75rem;
      padding: 1.5rem;
      width: 90%;
      max-width: 500px;
      box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
      transform: scale(0.9);
      transition: transform 0.3s ease;
    }

    .modal-overlay.active .modal {
      transform: scale(1);
    }

    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1rem;
    }

    .modal-title {
      font-size: 1.25rem;
      font-weight: 600;
      color: #1f2937;
    }

    .modal-close {
      background: none;
      border: none;
      cursor: pointer;
      color: #6b7280;
      padding: 0.25rem;
    }

    .modal-body {
      margin-bottom: 1.5rem;
    }

    .modal-footer {
      display: flex;
      justify-content: flex-end;
      gap: 0.75rem;
    }

    /* Share Modal */
    .share-modal-content {
      padding: 1rem 0;
    }

    .share-options {
      display: flex;
      flex-direction: column;
      gap: 1rem;
      margin-bottom: 1.5rem;
    }

    .share-option {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      padding: 0.75rem;
      border-radius: 0.5rem;
      background-color: #f9fafb;
      cursor: pointer;
      transition: background-color 0.2s ease;
    }

    .share-option:hover {
      background-color: #f2f7f4;
    }

    .share-option-icon {
      width: 2.5rem;
      height: 2.5rem;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .share-option-icon.link {
      background-color: #e0ede5;
    }

    .share-option-icon.email {
      background-color: #e0e7ff;
    }

    .share-option-icon.social {
      background-color: #e0f2fe;
    }

    .share-option-icon svg {
      width: 1.25rem;
      height: 1.25rem;
    }

    .share-option-content {
      flex: 1;
    }

    .share-option-title {
      font-weight: 600;
      color: #1f2937;
      margin-bottom: 0.25rem;
    }

    .share-option-description {
      font-size: 0.875rem;
      color: #6b7280;
    }

    /* Action buttons */
    .action-buttons {
      display: flex;
      gap: 0.5rem;
    }

    /* Responsive Styles */
    @media (min-width: 640px) {
      .feature-grid {
        grid-template-columns: repeat(2, 1fr);
      }

      .grid-cols-2 {
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }
    }

    @media (min-width: 768px) {
      .container {
        padding: 0 2rem;
      }

      h1 {
        font-size: 3rem;
      }

      .hero h1 {
        font-size: 3.5rem;
      }

      .feature-grid {
        grid-template-columns: repeat(3, 1fr);
      }

      .grid-cols-3 {
        grid-template-columns: repeat(3, minmax(0, 1fr));
      }

      .flex-md-row {
        flex-direction: row;
      }
    }

    @media (min-width: 1024px) {
      .container {
        padding: 0 4rem;
      }
    }

    /* Page Transitions */
    .page {
      display: none;
      animation: fadeIn 0.3s ease forwards;
    }

    .page.active {
      display: block;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
      }
      to {
        opacity: 1;
      }
    }

    /* Loading Spinner */
    .loading-spinner {
      display: inline-block;
      width: 1.5rem;
      height: 1.5rem;
      border: 3px solid rgba(255, 255, 255, 0.3);
      border-radius: 50%;
      border-top-color: white;
      animation: spin 1s ease-in-out infinite;
    }

    @keyframes spin {
      to {
        transform: rotate(360deg);
      }
    }
  </style>
</head>
<body>
  <!-- Blob Background Canvas -->
  <canvas id="blob-canvas"></canvas>

  <!-- Toast Container -->
  <div id="toast-container" class="toast-container"></div>

  <!-- Delete Confirmation Modal -->
  <div id="delete-modal" class="modal-overlay">
    <div class="modal">
      <div class="modal-header">
        <h3 class="modal-title">Delete Time Capsule</h3>
        <button class="modal-close" onclick="closeDeleteModal()">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" width="20" height="20">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
      </div>
      <div class="modal-body">
        <p>Are you sure you want to delete this time capsule? This action cannot be undone.</p>
      </div>
      <div class="modal-footer">
        <button class="btn btn-outline" onclick="closeDeleteModal()">Cancel</button>
        <button id="confirm-delete-btn" class="btn btn-danger">Delete</button>
      </div>
    </div>
  </div>

  <!-- Share Modal -->
  <div id="share-modal" class="modal-overlay">
    <div class="modal">
      <div class="modal-header">
        <h3 class="modal-title">Share Time Capsule</h3>
        <button class="modal-close" onclick="closeShareModal()">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" width="20" height="20">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
      </div>
      <div class="modal-body">
        <p>Share this time capsule with others. They will be able to view it after the delivery date.</p>
        
        <div class="share-modal-content">
          <div class="share-options">
            <div class="share-option" id="copy-link-option">
              <div class="share-option-icon link">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="#3d7059">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" />
                </svg>
              </div>
              <div class="share-option-content">
                <div class="share-option-title">Copy Link</div>
                <div class="share-option-description">Copy a link to share directly with others</div>
              </div>
            </div>
            
            <div class="share-option" id="email-share-option">
              <div class="share-option-icon email">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="#4f46e5">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                </svg>
              </div>
              <div class="share-option-content">
                <div class="share-option-title">Email</div>
                <div class="share-option-description">Send a link via email</div>
              </div>
            </div>
            
            <div class="share-option" id="social-share-option">
              <div class="share-option-icon social">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="#0ea5e9">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z" />
                </svg>
              </div>
              <div class="share-option-content">
                <div class="share-option-title">Social Media</div>
                <div class="share-option-description">Share on social platforms</div>
              </div>
            </div>
          </div>
          
          <div class="form-group">
            <label for="share-link">Share Link</label>
            <div class="share-link-container">
              <input type="text" id="share-link" class="share-link-input" readonly>
              <button id="copy-link-btn" class="btn btn-outline btn-icon">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" width="20" height="20">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
                </svg>
                Copy
              </button>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-outline" onclick="closeShareModal()">Close</button>
      </div>
    </div>
  </div>

  <!-- Home Page -->
  <div id="home-page" class="page active">
    <div class="page-wrapper">
      <div class="page-content">
        <div class="container">
          <header class="flex justify-between items-center">
            <a href="#" class="logo">Time Capsule</a>
            <div class="user-profile" id="user-profile">
              <div class="profile-picture" id="profile-picture">
                <div class="profile-initial" id="profile-initial"></div>
              </div>
              <div class="profile-name" id="profile-name"></div>
              <div class="profile-dropdown" id="profile-dropdown">
                <a href="#" class="dropdown-item">
                  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" width="20" height="20">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                  </svg>
                  My Profile
                </a>
                <a href="#" class="dropdown-item">
                  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" width="20" height="20">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                  </svg>
                  Settings
                </a>
                <div class="dropdown-divider"></div>
                <a href="#" class="dropdown-item" id="logout-button">
                  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" width="20" height="20">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1" />
                  </svg>
                  Logout
                </a>
              </div>
            </div>
          </header>

          <section class="hero">
            <h1>Time Capsule</h1>
            <p>Preserve moments today, rediscover them tomorrow.</p>
            <div class="flex flex-col gap-4 items-center md:flex-row justify-center">
              <button class="btn btn-primary" id="create-button">Create a Time Capsule</button>
              <button class="btn btn-outline" id="view-button">View Your Capsules</button>
            </div>
          </section>

          <section class="features">
            <div class="feature-grid">
              <div class="feature-card">
                <div class="feature-icon">
                  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" width="24" height="24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z" />
                  </svg>
                </div>
                <h3>Write Letters</h3>
                <p>Share your thoughts, feelings, and experiences with your future self or loved ones.</p>
              </div>
              <div class="feature-card">
                <div class="feature-icon">
                  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" width="24" height="24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
                  </svg>
                </div>
                <h3>Upload Photos</h3>
                <p>Preserve visual memories that capture special moments in your life.</p>
              </div>
              <div class="feature-card">
                <div class="feature-icon">
                  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" width="24" height="24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z" />
                  </svg>
                </div>
                <h3>Record Videos</h3>
                <p>Create video messages that bring your memories to life years later.</p>
              </div>
            </div>
          </section>
        </div>
      </div>

      <!-- Footer -->
      <footer class="footer">
        <div class="container">
          <div class="footer-links">
            <a href="#" class="footer-link" id="privacy-link">Privacy & Security</a>
            <a href="#" class="footer-link" id="terms-link">Terms of Service</a>
            <a href="#" class="footer-link" id="contact-link">Contact Us</a>
          </div>
          <div class="footer-copyright">
            &copy; 2023 Time Capsule. All rights reserved.
          </div>
        </div>
      </footer>
    </div>
  </div>

  <!-- Create Page -->
  <div id="create-page" class="page">
    <div class="page-wrapper">
      <div class="page-content">
        <div class="container py-4">
          <a href="#" class="back-button" id="create-back-button">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" width="24" height="24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
            </svg>
            Back to Home
          </a>

          <div class="card">
            <h1>Create Your Time Capsule</h1>
            
            <form id="create-capsule-form">
              <div class="form-group">
                <label for="title">Title</label>
                <input type="text" id="title" placeholder="My Time Capsule" required>
              </div>
              
              <div class="form-group">
                <label for="recipient">Recipient (optional)</label>
                <input type="text" id="recipient" placeholder="Future me or recipient's email">
              </div>
              
              <div class="form-group">
                <label for="delivery-date">Delivery Date</label>
                <input type="date" id="delivery-date" required>
              </div>
              
              <div class="tabs">
                <div class="tab active" data-tab="letter">Letter</div>
                <div class="tab" data-tab="photos">Photos</div>
                <div class="tab" data-tab="video">Video</div>
              </div>
              
              <div id="letter-tab" class="tab-content active">
                <div class="form-group">
                  <label for="message">Your Message</label>
                  <textarea id="message" placeholder="Write your message to the future..."></textarea>
                </div>
              </div>
              
              <div id="photos-tab" class="tab-content">
                <div class="form-group">
                  <label>Upload Photos</label>
                  <div class="file-upload" id="photo-upload">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" width="48" height="48" style="margin: 0 auto; display: block; margin-bottom: 1rem;">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12" />
                    </svg>
                    <p style="font-size: 0.875rem; color: #6b7280; margin-bottom: 1rem;">Drag and drop your photos here, or click to select files</p>
                    <input type="file" id="photo-input" accept="image/*" multiple style="display: none;">
                    <button type="button" class="btn btn-outline" id="select-photos-btn">Select Photos</button>
                  </div>
                  <div id="photo-preview" class="file-preview mt-4" style="display: none;"></div>
                </div>
              </div>
              
              <div id="video-tab" class="tab-content">
                <div class="form-group">
                  <label>Record a Video Message</label>
                  <div id="video-recording-container">
                    <div id="video-placeholder" class="file-upload">
                      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" width="48" height="48" style="margin: 0 auto; display: block; margin-bottom: 1rem;">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z" />
                      </svg>
                      <p style="font-size: 0.875rem; color: #6b7280; margin-bottom: 1rem;">Record a video message to include in your time capsule</p>
                      <button type="button" id="start-recording" class="btn btn-outline">Start Recording</button>
                    </div>
                    
                    <div id="video-recording" style="display: none;">
                      <div class="video-container">
                        <video id="recording-preview" autoplay muted></video>
                        <div class="recording-indicator"></div>
                      </div>
                      <button type="button" id="stop-recording" class="btn btn-danger">Stop Recording</button>
                    </div>
                    
                    <div id="video-preview-container" style="display: none;">
                      <div class="video-container">
                        <video id="video-preview" controls></video>
                      </div>
                      <button type="button" id="record-again" class="btn btn-outline">Record Again</button>
                    </div>
                  </div>
                </div>
              </div>
              
              <div class="mt-6">
                <button type="submit" class="btn btn-primary btn-block">Create Time Capsule</button>
              </div>
            </form>
          </div>
        </div>
      </div>

      <!-- Footer -->
      <footer class="footer">
        <div class="container">
          <div class="footer-links">
            <a href="#" class="footer-link" id="privacy-link-create">Privacy & Security</a>
            <a href="#" class="footer-link" id="terms-link-create">Terms of Service</a>
            <a href="#" class="footer-link" id="contact-link-create">Contact Us</a>
          </div>
          <div class="footer-copyright">
            &copy; 2023 Time Capsule. All rights reserved.
          </div>
        </div>
      </footer>
    </div>
  </div>

  <!-- View Page -->
  <div id="view-page" class="page">
    <div class="page-wrapper">
      <div class="page-content">
        <div class="container py-4">
          <a href="#" class="back-button" id="view-back-button">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" width="24" height="24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
            </svg>
            Back to Home
          </a>

          <h1>Your Time Capsules</h1>
          
          <div id="capsules-container">
            <!-- Capsules will be loaded here -->
            <div id="no-capsules" class="card text-center">
              <h2 class="mb-4">No Time Capsules Yet</h2>
              <p style="color: #6b7280; margin-bottom: 1.5rem;">You haven't created any time capsules yet.</p>
              <button class="btn btn-primary" id="create-first-capsule-btn">Create Your First Capsule</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Footer -->
      <footer class="footer">
        <div class="container">
          <div class="footer-links">
            <a href="#" class="footer-link" id="privacy-link-view">Privacy & Security</a>
            <a href="#" class="footer-link" id="terms-link-view">Terms of Service</a>
            <a href="#" class="footer-link" id="contact-link-view">Contact Us</a>
          </div>
          <div class="footer-copyright">
            &copy; 2023 Time Capsule. All rights reserved.
          </div>
        </div>
      </footer>
    </div>
  </div>

  <!-- Shared Capsule View Page -->
  <div id="shared-capsule-page" class="page">
    <div class="page-wrapper">
      <div class="page-content">
        <div class="container py-4">
          <div class="card mb-4">
            <div class="flex justify-between items-center mb-4">
              <h2 id="shared-capsule-title" class="text-xl font-semibold">Capsule Title</h2>
              <div class="user-profile" id="shared-capsule-owner">
                <div class="profile-picture">
                  <div class="profile-initial"></div>
                </div>
                <div class="profile-name">Owner Name</div>
              </div>
            </div>
            
            <div id="shared-capsule-content">
              <!-- Shared capsule content will be loaded here -->
            </div>
          </div>
          
          <div class="text-center">
            <a href="index.html" class="btn btn-primary">Create Your Own Time Capsule</a>
          </div>
        </div>
      </div>

      <!-- Footer -->
      <footer class="footer">
        <div class="container">
          <div class="footer-links">
            <a href="#" class="footer-link">Privacy & Security</a>
            <a href="#" class="footer-link">Terms of Service</a>
            <a href="#" class="footer-link">Contact Us</a>
          </div>
          <div class="footer-copyright">
            &copy; 2023 Time Capsule. All rights reserved.
          </div>
        </div>
      </footer>
    </div>
  </div>

  <script>
    // Check if user is logged in
    document.addEventListener('DOMContentLoaded', function() {
      const currentUser = JSON.parse(localStorage.getItem('currentUser'));
      
      // Check if this is a shared capsule view
      const urlParams = new URLSearchParams(window.location.search);
      const sharedCapsuleId = urlParams.get('capsule');
      
      if (sharedCapsuleId) {
        loadSharedCapsule(sharedCapsuleId);
        return;
      }
      
      // If no user is logged in, redirect to login page
      if (!currentUser) {
        window.location.href = 'login.html';
        return;
      }
      
      // If user needs tutorial, redirect to tutorial page
      if (currentUser.needsTutorial) {
        window.location.href = 'tutorial.html';
        return;
      }
      
      // Set up user profile
      const profileName = document.getElementById('profile-name');
      const profileInitial = document.getElementById('profile-initial');
      const profilePicture = document.getElementById('profile-picture');
      
      // Set profile name
      profileName.textContent = currentUser.name;
      
      // Set profile initial or image
      if (currentUser.profileImage) {
        profileInitial.style.display = 'none';
        const img = document.createElement('img');
        img.src = currentUser.profileImage;
        img.alt = 'Profile Picture';
        profilePicture.appendChild(img);
      } else {
        profileInitial.textContent = currentUser.name.charAt(0).toUpperCase();
      }
      
      // Toggle profile dropdown
      const userProfile = document.getElementById('user-profile');
      const profileDropdown = document.getElementById('profile-dropdown');
      
      userProfile.addEventListener('click', function(e) {
        e.stopPropagation();
        profileDropdown.classList.toggle('active');
      });
      
      // Close dropdown when clicking outside
      document.addEventListener('click', function() {
        profileDropdown.classList.remove('active');
      });
      
      // Logout functionality
      document.getElementById('logout-button').addEventListener('click', function(e) {
        e.preventDefault();
        localStorage.removeItem('currentUser');
        window.location.href = 'login.html';
      });
      
      // Navigation
      document.getElementById('create-button').addEventListener('click', function() {
        navigateTo('create-page');
      });
      
      document.getElementById('view-button').addEventListener('click', function() {
        navigateTo('view-page');
        loadCapsules();
      });
      
      document.getElementById('create-back-button').addEventListener('click', function(e) {
        e.preventDefault();
        navigateTo('home-page');
      });
      
      document.getElementById('view-back-button').addEventListener('click', function(e) {
        e.preventDefault();
        navigateTo('home-page');
      });
      
      document.getElementById('create-first-capsule-btn').addEventListener('click', function() {
        navigateTo('create-page');
      });
      
      // Tab functionality
      document.querySelectorAll('.tab').forEach(tab => {
        tab.addEventListener('click', () => {
          // Remove active class from all tabs
          document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
          document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
          
          // Add active class to clicked tab and corresponding content
          tab.classList.add('active');
          const tabId = tab.getAttribute('data-tab');
          document.getElementById(`${tabId}-tab`).classList.add('active');
        });
      });
      
      // Photo upload
      const photoInput = document.getElementById('photo-input');
      const photoPreview = document.getElementById('photo-preview');
      const selectPhotosBtn = document.getElementById('select-photos-btn');
      
      // Store uploaded photos
      let uploadedPhotos = [];
      
      selectPhotosBtn.addEventListener('click', function() {
        photoInput.click();
      });
      
      photoInput.addEventListener('change', function(e) {
        if (e.target.files.length > 0) {
          photoPreview.innerHTML = '';
          photoPreview.style.display = 'grid';
          
          // Process each file
          Array.from(e.target.files).forEach(file => {
            const reader = new FileReader();
            
            reader.onload = (event) => {
              const imageData = event.target.result;
              
              // Add to preview
              const previewItem = document.createElement('div');
              previewItem.className = 'file-preview-item';
              previewItem.innerHTML = `<img src="${imageData}" alt="Preview">`;
              photoPreview.appendChild(previewItem);
              
              // Store the image data
              uploadedPhotos.push(imageData);
            };
            
            reader.readAsDataURL(file);
          });
        }
      });
      
      // Video recording
      const startRecordingBtn = document.getElementById('start-recording');
      const stopRecordingBtn = document.getElementById('stop-recording');
      const recordAgainBtn = document.getElementById('record-again');
      const videoPlaceholder = document.getElementById('video-placeholder');
      const videoRecording = document.getElementById('video-recording');
      const videoPreviewContainer = document.getElementById('video-preview-container');
      const recordingPreview = document.getElementById('recording-preview');
      const videoPreview = document.getElementById('video-preview');
      
      let mediaRecorder;
      let recordedChunks = [];
      let videoDataUrl = null;
      
      startRecordingBtn.addEventListener('click', async function() {
        try {
          const stream = await navigator.mediaDevices.getUserMedia({ video: true, audio: true });
          recordingPreview.srcObject = stream;
          
          mediaRecorder = new MediaRecorder(stream);
          recordedChunks = [];
          
          mediaRecorder.ondataavailable = function(e) {
            if (e.data.size > 0) {
              recordedChunks.push(e.data);
            }
          };
          
          mediaRecorder.onstop = function() {
            const blob = new Blob(recordedChunks, { type: 'video/webm' });
            videoDataUrl = URL.createObjectURL(blob);
            videoPreview.src = videoDataUrl;
            
            videoRecording.style.display = 'none';
            videoPreviewContainer.style.display = 'block';
          };
          
          mediaRecorder.start();
          videoPlaceholder.style.display = 'none';
          videoRecording.style.display = 'block';
        } catch (err) {
          console.error('Error accessing camera:', err);
          alert('Unable to access your camera. Please check permissions.');
        }
      });
      
      stopRecordingBtn.addEventListener('click', function() {
        if (mediaRecorder && mediaRecorder.state !== 'inactive') {
          mediaRecorder.stop();
          recordingPreview.srcObject.getTracks().forEach(track => track.stop());
        }
      });
      
      recordAgainBtn.addEventListener('click', function() {
        videoPreviewContainer.style.display = 'none';
        videoPlaceholder.style.display = 'block';
        videoDataUrl = null;
      });
      
      // Create capsule form submission
      const createCapsuleForm = document.getElementById('create-capsule-form');
      
      createCapsuleForm.addEventListener('submit', function(e) {
        e.preventDefault();
        
        const title = document.getElementById('title').value;
        const recipient = document.getElementById('recipient').value;
        const deliveryDate = document.getElementById('delivery-date').value;
        const message = document.getElementById('message').value;
        
        if (!title || !deliveryDate) {
          alert('Please provide a title and delivery date.');
          return;
        }
        
        // Generate a unique ID for the capsule
        const capsuleId = `capsule_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;
        
        // Create capsule object
        const capsule = {
          id: capsuleId,
          title,
          message,
          recipient,
          createdAt: new Date().toISOString(),
          deliveryDate: new Date(deliveryDate).toISOString(),
          photos: [...uploadedPhotos], // Make a copy of the array
          videoData: videoDataUrl,
          hasImages: uploadedPhotos.length > 0,
          hasVideo: videoDataUrl !== null,
          userId: currentUser.id, // Associate with current user
          userName: currentUser.name // Store the user's name for sharing
        };
        
        // Store the capsule in localStorage
        const existingCapsules = JSON.parse(localStorage.getItem('timeCapsules') || '[]');
        localStorage.setItem('timeCapsules', JSON.stringify([...existingCapsules, capsule]));
        
        alert('Time Capsule created successfully!');
        
        // Reset form
        createCapsuleForm.reset();
        photoPreview.innerHTML = '';
        photoPreview.style.display = 'none';
        uploadedPhotos = [];
        videoDataUrl = null;
        videoPreviewContainer.style.display = 'none';
        videoPlaceholder.style.display = 'block';
        
        // Navigate to view page
        navigateTo('view-page');
        loadCapsules();
      });
      
      // Load user's capsules
      function loadCapsules() {
        const capsulesContainer = document.getElementById('capsules-container');
        const noCapsules = document.getElementById('no-capsules');
        
        // Get all capsules
        const allCapsules = JSON.parse(localStorage.getItem('timeCapsules') || '[]');
        
        // Filter capsules for current user
        const userCapsules = allCapsules.filter(capsule => capsule.userId === currentUser.id);
        
        if (userCapsules.length === 0) {
          noCapsules.style.display = 'block';
          return;
        }
        
        noCapsules.style.display = 'none';
        
        // Clear previous capsules
        const existingCapsules = capsulesContainer.querySelectorAll('.capsule-card');
        existingCapsules.forEach(capsule => capsule.remove());
        
        // Sort capsules by creation date (newest first)
        userCapsules.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));
        
        // Create capsule cards
        userCapsules.forEach(capsule => {
          const isDelivered = new Date(capsule.deliveryDate) <= new Date();
          
          const capsuleCard = document.createElement('div');
          capsuleCard.className = 'capsule-card';
          
          let contentTypes = '';
          if (capsule.message) {
            contentTypes += `
              <div class="capsule-content-type">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" width="14" height="14">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                </svg>
                Letter
              </div>
            `;
          }
          
          if (capsule.hasImages) {
            contentTypes += `
              <div class="capsule-content-type">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" width="14" height="14">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
                </svg>
                Photos
              </div>
            `;
          }
          
          if (capsule.hasVideo) {
            contentTypes += `
              <div class="capsule-content-type">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" width="14" height="14">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z" />
                </svg>
                Video
              </div>
            `;
          }
          
          capsuleCard.innerHTML = `
            <div class="flex flex-col md:flex-row md:items-center justify-between gap-4">
              <div>
                <div class="flex items-center gap-2 mb-1">
                  <h2 class="text-xl font-semibold text-forest-green-800">${capsule.title}</h2>
                  <div class="capsule-status ${isDelivered ? 'status-delivered' : 'status-sealed'}">
                    ${isDelivered ? 'Delivered' : 'Sealed'}
                  </div>
                </div>
                
                <div class="flex items-center text-sm text-gray-500 mb-3">
                  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" width="16" height="16" style="margin-right: 0.25rem;">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
                  </svg>
                  <span>
                    Created: ${new Date(capsule.createdAt).toLocaleDateString()} | Delivery: ${new Date(capsule.deliveryDate).toLocaleDateString()}
                  </span>
                </div>
                
                <div class="flex flex-wrap gap-2 mb-4">
                  ${contentTypes}
                </div>
              </div>
              
              <div class="flex gap-3">
                <button class="btn btn-outline btn-sm view-capsule-btn" data-id="${capsule.id}" ${!isDelivered ? 'disabled' : ''}>
                  ${isDelivered ? 'View' : 'Sealed'}
                </button>
                <button class="btn btn-outline btn-sm share-capsule-btn" data-id="${capsule.id}">
                  Share
                </button>
                <button class="btn btn-danger btn-sm delete-capsule-btn" data-id="${capsule.id}">
                  Delete
                </button>
              </div>
            </div>
          `;
          
          capsulesContainer.appendChild(capsuleCard);
        });
        
        // Add event listeners to view, share, and delete buttons
        document.querySelectorAll('.view-capsule-btn').forEach(btn => {
          btn.addEventListener('click', function() {
            const capsuleId = this.getAttribute('data-id');
            viewCapsule(capsuleId);
          });
        });
        
        document.querySelectorAll('.share-capsule-btn').forEach(btn => {
          btn.addEventListener('click', function() {
            const capsuleId = this.getAttribute('data-id');
            openShareModal(capsuleId);
          });
        });
        
        document.querySelectorAll('.delete-capsule-btn').forEach(btn => {
          btn.addEventListener('click', function() {
            const capsuleId = this.getAttribute('data-id');
            openDeleteModal(capsuleId);
          });
        });
      }
      
      // View capsule
      function viewCapsule(capsuleId) {
        // In a real app, this would navigate to a capsule view page
        // For this demo, we'll just show an alert with the capsule details
        const allCapsules = JSON.parse(localStorage.getItem('timeCapsules') || '[]');
        const capsule = allCapsules.find(c => c.id === capsuleId);
        
        if (!capsule) {
          alert('Capsule not found.');
          return;
        }
        
        let message = `Title: ${capsule.title}\n`;
        message += `Created: ${new Date(capsule.createdAt).toLocaleDateString()}\n`;
        message += `Delivered: ${new Date(capsule.deliveryDate).toLocaleDateString()}\n\n`;
        
        if (capsule.recipient) {
          message += `To: ${capsule.recipient}\n\n`;
        }
        
        if (capsule.message) {
          message += `Message:\n${capsule.message}\n\n`;
        }
        
        if (capsule.hasImages) {
          message += `Contains ${capsule.photos.length} photos\n`;
        }
        
        if (capsule.hasVideo) {
          message += `Contains a video message\n`;
        }
        
        alert(message);
      }
      
      // Load shared capsule
      function loadSharedCapsule(capsuleId) {
        const allCapsules = JSON.parse(localStorage.getItem('timeCapsules') || '[]');
        const capsule = allCapsules.find(c => c.id === capsuleId);
        
        if (!capsule) {
          alert('Capsule not found or has been deleted.');
          window.location.href = 'index.html';
          return;
        }
        
        // Check if capsule is delivered
        const isDelivered = new Date(capsule.deliveryDate) <= new Date();
        if (!isDelivered) {
          alert('This time capsule has not been delivered yet. Please check back after the delivery date.');
          window.location.href = 'index.html';
          return;
        }
        
        // Show shared capsule page
        document.querySelectorAll('.page').forEach(page => {
          page.classList.remove('active');
        });
        document.getElementById('shared-capsule-page').classList.add('active');
        
        // Set capsule title
        document.getElementById('shared-capsule-title').textContent = capsule.title;
        
        // Set owner info
        const ownerInitial = document.querySelector('#shared-capsule-owner .profile-initial');
        const ownerName = document.querySelector('#shared-capsule-owner .profile-name');
        
        ownerInitial.textContent = capsule.userName.charAt(0).toUpperCase();
        ownerName.textContent = capsule.userName;
        
        // Load capsule content
        const contentContainer = document.getElementById('shared-capsule-content');
        contentContainer.innerHTML = '';
        
        // Add message if exists
        if (capsule.message) {
          const messageSection = document.createElement('div');
          messageSection.className = 'mb-6';
          messageSection.innerHTML = `
            <div class="content-header">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
              </svg>
              <h3>Message</h3>
            </div>
            <div class="bg-forest-green-50 p-4 rounded-lg">
              <p style="white-space: pre-wrap;">${capsule.message}</p>
            </div>
          `;
          contentContainer.appendChild(messageSection);
        }
        
        // Add photos if exist
        if (capsule.hasImages && Array.isArray(capsule.photos) && capsule.photos.length > 0) {
          const photosSection = document.createElement('div');
          photosSection.className = 'mb-6';
          
          let photosHTML = `
            <div class="content-header">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
              </svg>
              <h3>Photos</h3>
            </div>
            <div class="image-gallery">
          `;
          
          capsule.photos.forEach(photo => {
            photosHTML += `
              <div class="gallery-item">
                <img src="${photo}" alt="Time Capsule Photo">
              </div>
            `;
          });
          
          photosHTML += `</div>`;
          photosSection.innerHTML = photosHTML;
          contentContainer.appendChild(photosSection);
        }
        
        // Add video if exists
        if (capsule.hasVideo && capsule.videoData) {
          const videoSection = document.createElement('div');
          videoSection.className = 'mb-6';
          videoSection.innerHTML = `
            <div class="content-header">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z" />
              </svg>
              <h3>Video Message</h3>
            </div>
            <div class="video-container">
              <video controls src="${capsule.videoData}"></video>
            </div>
          `;
          contentContainer.appendChild(videoSection);
        }
      }
      
      // Delete modal
      let capsuleToDelete = null;
      const deleteModal = document.getElementById('delete-modal');
      const confirmDeleteBtn = document.getElementById('confirm-delete-btn');
      
      function openDeleteModal(capsuleId) {
        capsuleToDelete = capsuleId;
        deleteModal.classList.add('active');
      }
      
      function closeDeleteModal() {
        deleteModal.classList.remove('active');
        capsuleToDelete = null;
      }
      
      confirmDeleteBtn.addEventListener('click', function() {
        if (capsuleToDelete) {
          // Delete the capsule
          const allCapsules = JSON.parse(localStorage.getItem('timeCapsules') || '[]');
          const updatedCapsules = allCapsules.filter(c => c.id !== capsuleToDelete);
          localStorage.setItem('timeCapsules', JSON.stringify(updatedCapsules));
          
          // Close modal and reload capsules
          closeDeleteModal();
          loadCapsules();
          
          alert('Time Capsule deleted successfully.');
        }
      });
      
      // Share modal
      let capsuleToShare = null;
      const shareModal = document.getElementById('share-modal');
      const shareLink = document.getElementById('share-link');
      const copyLinkBtn = document.getElementById('copy-link-btn');
      
      function openShareModal(capsuleId) {
        capsuleToShare = capsuleId;
        
        // Generate share link
        const shareUrl = `${window.location.origin}${window.location.pathname}?capsule=${capsuleId}`;
        shareLink.value = shareUrl;
        
        // Show modal
        shareModal.classList.add('active');
      }
      
      function closeShareModal() {
        shareModal.classList.remove('active');
        capsuleToShare = null;
      }
      
      // Copy link functionality
      copyLinkBtn.addEventListener('click', function() {
        shareLink.select();
        document.execCommand('copy');
        
        // Change button text temporarily
        const originalText = copyLinkBtn.innerHTML;
        copyLinkBtn.innerHTML = 'Copied!';
        setTimeout(() => {
          copyLinkBtn.innerHTML = originalText;
        }, 2000);
      });
      
      // Share options
      document.getElementById('copy-link-option').addEventListener('click', function() {
        shareLink.select();
        document.execCommand('copy');
        alert('Link copied to clipboard!');
      });
      
      document.getElementById('email-share-option').addEventListener('click', function() {
        const subject = 'Check out my Time Capsule';
        const body = `I've created a Time Capsule that will be delivered in the future. Check it out here: ${shareLink.value}`;
        window.location.href = `mailto:?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
      });
      
      document.getElementById('social-share-option').addEventListener('click', function() {
        alert('In a real app, this would open social media sharing options.');
      });
      
      // Navigation function
      function navigateTo(pageId) {
        // Hide all pages
        document.querySelectorAll('.page').forEach(page => {
          page.classList.remove('active');
        });
        
        // Show the selected page
        document.getElementById(pageId).classList.add('active');
        
        // Special handling for specific pages
        if (pageId === 'view-page') {
          loadCapsules();
        }
        
        // Scroll to top
        window.scrollTo(0, 0);
      }
      
      // Footer links
      const privacyLinks = document.querySelectorAll('[id^="privacy-link"]');
      const termsLinks = document.querySelectorAll('[id^="terms-link"]');
      const contactLinks = document.querySelectorAll('[id^="contact-link"]');
      
      privacyLinks.forEach(link => {
        link.addEventListener('click', function(e) {
          e.preventDefault();
          alert('Privacy & Security page would open here.');
        });
      });
      
      termsLinks.forEach(link => {
        link.addEventListener('click', function(e) {
          e.preventDefault();
          alert('Terms of Service page would open here.');
        });
      });
      
      contactLinks.forEach(link => {
        link.addEventListener('click', function(e) {
          e.preventDefault();
          alert('Contact Us page would open here.');
        });
      });
    });
    
    // Blob Background Animation
    (function() {
      const canvas = document.getElementById('blob-canvas');
      if (!canvas) return;
      
      const ctx = canvas.getContext('2d');
      if (!ctx) return;
      
      // Set canvas dimensions
      function resizeCanvas() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
      }
      
      resizeCanvas();
      window.addEventListener('resize', resizeCanvas);
      
      // Blob parameters
      const blobs = [
        { x: canvas.width * 0.2, y: canvas.height * 0.2, radius: 200, color: 'rgba(47, 133, 90, 0.1)', speed: 0.5 },
        { x: canvas.width * 0.8, y: canvas.height * 0.7, radius: 250, color: 'rgba(47, 133, 90, 0.08)', speed: 0.3 },
        { x: canvas.width * 0.5, y: canvas.height * 0.5, radius: 300, color: 'rgba(184, 151, 60, 0.07)', speed: 0.4 },
      ];
      
      let angle = 0;
      
      // Animation loop
      function animate() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        
        angle += 0.01;
        
        blobs.forEach((blob, index) => {
          // Update blob position with a gentle floating motion
          const offsetX = Math.sin(angle * blob.speed + index) * 30;
          const offsetY = Math.cos(angle * blob.speed + index) * 30;
          
          // Draw blob
          ctx.beginPath();
          ctx.fillStyle = blob.color;
          
          // Create a more organic shape using bezier curves
          const points = 8;
          const angleStep = (Math.PI * 2) / points;
          const variationAmount = blob.radius * 0.2;
          
          for (let i = 0; i <= points; i++) {
            const pointAngle = i * angleStep;
            const variation = Math.sin(angle * 2 + i) * variationAmount;
            const radius = blob.radius + variation;
            
            const x = blob.x + offsetX + Math.cos(pointAngle) * radius;
            const y = blob.y + offsetY + Math.sin(pointAngle) * radius;
            
            if (i === 0) {
              ctx.moveTo(x, y);
            } else {
              const prevPointAngle = (i - 1) * angleStep;
              const prevVariation = Math.sin(angle * 2 + (i - 1)) * variationAmount;
              const prevRadius = blob.radius + prevVariation;
              
              const prevX = blob.x + offsetX + Math.cos(prevPointAngle) * prevRadius;
              const prevY = blob.y + offsetY + Math.sin(prevPointAngle) * prevRadius;
              
              const cp1x = prevX + (Math.cos(prevPointAngle - Math.PI / 2) * radius * 0.4);
              const cp1y = prevY + (Math.sin(prevPointAngle - Math.PI / 2) * radius * 0.4);
              const cp2x = x + (Math.cos(pointAngle + Math.PI / 2) * radius * 0.4);
              const cp2y = y + (Math.sin(pointAngle + Math.PI / 2) * radius * 0.4);
              
              ctx.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);
            }
          }
          
          ctx.closePath();
          ctx.fill();
        });
        
        requestAnimationFrame(animate);
      }
      
      animate();
    })();
  </script>
</body>
</html>
